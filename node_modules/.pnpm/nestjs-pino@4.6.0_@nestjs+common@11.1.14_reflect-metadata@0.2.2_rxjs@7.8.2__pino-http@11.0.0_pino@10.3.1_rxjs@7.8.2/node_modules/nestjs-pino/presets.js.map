{"version":3,"file":"presets.js","sourceRoot":"","sources":["../src/presets.ts"],"names":[],"mappings":";;;AAEA,MAAM,SAAS,GAA2B;IACxC,KAAK,EAAE,SAAS;IAChB,IAAI,EAAE,KAAK;CACZ,CAAC;AAEF;;;;;;;;;;;;;;;;;GAiBG;AACU,QAAA,mBAAmB,GAAY;IAC1C,UAAU,EAAE,SAAS;IACrB,SAAS,EAAE,GAAG,EAAE,CAAC,gBAAgB,IAAI,CAAC,GAAG,EAAE,EAAE;IAC7C,IAAI,EAAE,EAAE,GAAG,EAAE,OAAO,CAAC,GAAG,EAAE;IAC1B,UAAU,EAAE;QACV,KAAK,CAAC,KAAK;YACT,OAAO,EAAE,KAAK,EAAE,SAAS,CAAC,KAAK,CAAC,IAAI,KAAK,EAAE,CAAC;QAC9C,CAAC;KACF;CACF,CAAC","sourcesContent":["import { Options } from 'pino-http';\n\nconst LEVEL_MAP: Record<string, string> = {\n  trace: 'verbose',\n  info: 'log',\n};\n\n/**\n * Pino options preset that makes pino's JSON output match the field names and\n * format of NestJS's built-in `ConsoleLogger` in JSON mode.\n *\n * ConsoleLogger JSON: {\"level\":\"log\",\"pid\":17580,\"timestamp\":1765305000999,\"message\":\"Hello World\",\"context\":\"AppService\"}\n *\n * Use together with `NativeLogger` for a full drop-in replacement:\n *\n * ```ts\n * import { NativeLogger, nativeLoggerOptions } from 'nestjs-pino';\n *\n * @Module({ imports: [LoggerModule.forRoot({ pinoHttp: nativeLoggerOptions })] })\n * class AppModule {}\n *\n * const app = await NestFactory.create(AppModule, { bufferLogs: true });\n * app.useLogger(app.get(NativeLogger));\n * ```\n */\nexport const nativeLoggerOptions: Options = {\n  messageKey: 'message',\n  timestamp: () => `,\"timestamp\":${Date.now()}`,\n  base: { pid: process.pid },\n  formatters: {\n    level(label) {\n      return { level: LEVEL_MAP[label] || label };\n    },\n  },\n};\n"]}